(function(e){function t(t){for(var r,a,s=t[0],c=t[1],i=t[2],l=0,d=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);f&&f(t);while(d.length)d.shift()();return u.push.apply(u,i||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(r=!1)}r&&(u.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o={app:0},u=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-0d6f2888":"72513c76","chunk-2d0ae528":"2689b0ce","chunk-42e69ba1":"eee8fe74"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-0d6f2888":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-0d6f2888":"b6c1b079","chunk-2d0ae528":"31d6cfe0","chunk-42e69ba1":"31d6cfe0"}[e]+".css",o=c.p+r,u=document.getElementsByTagName("link"),s=0;s<u.length;s++){var i=u[s],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===r||l===o))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){i=d[s],l=i.getAttribute("data-href");if(l===r||l===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||o,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=r,delete a[e],f.parentNode.removeChild(f),n(u)},f.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var u=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=u);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e);var d=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}o[e]=void 0}};var f=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var f=l;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"11c0":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return o})),n.d(t,"mutations",(function(){return u})),n.d(t,"getters",(function(){return s})),n.d(t,"actions",(function(){return c}));var r=n("bc3a"),a=n.n(r);const o={currentUser:i("auth.currentUser")},u={SET_CURRENT_USER(e,t){e.currentUser=t,l("auth.currentUser",t),d(e)}},s={loggedIn(e){return!!e.currentUser}},c={init({state:e,dispatch:t}){d(e),t("validate")},logIn({commit:e,dispatch:t,getters:n},{username:r,password:o}={}){return n.loggedIn?t("validate"):a.a.post("/api/session",{username:r,password:o}).then(t=>{const n=t.data;return e("SET_CURRENT_USER",n),n})},logOut({commit:e}){e("SET_CURRENT_USER",null)},validate({commit:e,state:t}){return t.currentUser?a.a.get("/api/session").then(t=>{const n=t.data;return e("SET_CURRENT_USER",n),n}).catch(t=>(t.response&&401===t.response.status?e("SET_CURRENT_USER",null):console.warn(t),null)):Promise.resolve(null)}};function i(e){return JSON.parse(window.localStorage.getItem(e))}function l(e,t){window.localStorage.setItem(e,JSON.stringify(t))}function d(e){a.a.defaults.headers.common.Authorization=e.currentUser?e.currentUser.token:""}},"1a0e":function(e,t,n){e.exports={loadingIcon:"_loading_loadingIcon_2KEMq"}},2883:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Layout",[n("Transition",{attrs:{appear:""}},[n("BaseIcon",{class:e.$style.loadingIcon,attrs:{name:"sync",spin:""}})],1)],1)},a=[],o=n("444f"),u={page:{title:"Loading page...",meta:[{name:"description",content:"Loading page..."}]},components:{Layout:o["a"]}},s=u,c=n("46e4"),i=n("2877");function l(e){this["$style"]=c["default"].locals||c["default"]}var d=Object(i["a"])(s,r,a,!1,l,null,null);t["default"]=d.exports},"2ac3":function(e,t,n){e.exports={input:"_base-input-text_input_cKPEQ"}},"2e55":function(e,t,n){e.exports={container:"nav-bar_container_dsRsJ"}},"437c":function(e,t,n){},"444f":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.container},[n("NavBar"),e._t("default")],2)},a=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{class:e.$style.container},[n("NavBarRoutes",{attrs:{routes:e.persistentNavRoutes}}),e.loggedIn?n("NavBarRoutes",{attrs:{routes:e.loggedInNavRoutes}}):n("NavBarRoutes",{attrs:{routes:e.loggedOutNavRoutes}})],1)},u=[],s=n("4d77");const c="BaseLink";var i,l,d={functional:!0,props:{routes:{type:Array,required:!0}},render(e,{props:t,$style:n={}}){function r(e){return"function"===typeof e.title?e.title():e.title}return t.routes.map(t=>e(c,{attrs:{tag:"li",to:t,"exact-active-class":n.active},key:t.name},[e("a",[r(t)])]))}},f=d,p=n("4b61"),m=n("2877");function h(e){this["$style"]=p["default"].locals||p["default"]}var v=Object(m["a"])(f,i,l,!1,h,null,null),g=v.exports,b={components:{NavBarRoutes:g},data(){return{persistentNavRoutes:[{name:"home",title:"Home"}],loggedInNavRoutes:[{name:"profile",title:()=>"Logged in as "+this.currentUser.name},{name:"logout",title:"Log out"}],loggedOutNavRoutes:[{name:"login",title:"Log in"}]}},computed:{...s["a"]}},_=b,y=n("4d63");function E(e){this["$style"]=y["default"].locals||y["default"]}var w=Object(m["a"])(_,o,u,!1,E,null,null),O=w.exports,R={components:{NavBar:O}},$=R,U=n("b08f");function S(e){this["$style"]=U["default"].locals||U["default"]}var x=Object(m["a"])($,r,a,!1,S,null,null);t["a"]=x.exports},"46e4":function(e,t,n){"use strict";var r=n("1a0e"),a=n.n(r);t["default"]=a.a},"4b61":function(e,t,n){"use strict";var r=n("d5bb"),a=n.n(r);t["default"]=a.a},"4d63":function(e,t,n){"use strict";var r=n("2e55"),a=n.n(r);t["default"]=a.a},"4d77":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n("2f62");const a={...Object(r["d"])("auth",{currentUser:e=>e.currentUser}),...Object(r["c"])("auth",["loggedIn"])},o=Object(r["b"])("auth",["logIn","logOut"])},"56d7":function(e,t,n){"use strict";n.r(t);n("37e1");var r=n("2b0e"),a=(n("ddb0"),n("8c4f")),o=n("58ca"),u=n("323e"),s=n.n(u),c=n("2f62"),i=(n("5319"),n("bba4")),l=n.n(i);const d={},f={modules:{}};function p(e,t){if(1===t.length)return e;const n=t.shift();return e.modules[n]={modules:{},namespaced:!0,...e.modules[n]},p(e.modules[n],t)}(function(){const e=n("cfa9");e.keys().forEach(t=>{const n=e(t).default||e(t);if(d[t]===n)return;d[t]=n;const r=t.replace(/^\.\//,"").replace(/\.\w+$/,"").split(/\//).map(l.a),{modules:a}=p(f,r);a[r.pop()]={namespaced:!0,...n}})})();var m=f.modules;function h(e,{modules:t=m,modulePrefix:n="",flags:r={}}={}){for(const a in t){const o=t[a];o.actions&&o.actions[e]&&(o.namespaced?g.dispatch(`${n}${a}/${e}`):r.dispatchGlobal=!0),o.modules&&h(e,{modules:o.modules,modulePrefix:n+a+"/",flags:r})}!n&&r.dispatchGlobal&&g.dispatch(e)}r["a"].use(c["a"]);const v=new c["a"].Store({modules:m,strict:!1});var g=v;h("init");var b=[{path:"/",name:"home",component:()=>_(n.e("chunk-42e69ba1").then(n.bind(null,"51d9")))},{path:"/login",name:"login",component:()=>_(n.e("chunk-0d6f2888").then(n.bind(null,"b6e6"))),meta:{beforeResolve(e,t,n){g.getters["auth/loggedIn"]?n({name:"home"}):n()}}},{path:"/profile",name:"profile",component:()=>_(n.e("chunk-2d0ae528").then(n.bind(null,"0a23"))),meta:{authRequired:!0},props:e=>({user:g.state.auth.currentUser||{}})},{path:"/profile/:username",name:"username-profile",component:()=>_(n.e("chunk-2d0ae528").then(n.bind(null,"0a23"))),meta:{authRequired:!0,tmp:{},beforeResolve(e,t,n){g.dispatch("users/fetchUser",{username:e.params.username}).then(t=>{e.meta.tmp.user=t,n()}).catch(()=>{n({name:"404",params:{resource:"User"}})})}},props:e=>({user:e.meta.tmp.user})},{path:"/logout",name:"logout",meta:{authRequired:!0,beforeResolve(e,t,n){g.dispatch("auth/logOut");const r=t.matched.some(e=>e.meta.authRequired);n(r?{name:"home"}:{...t})}}},{path:"/404",name:"404",component:n("bdd2").default,props:!0},{path:"*",redirect:"404"}];function _(e){const t=()=>({component:e,loading:n("2883").default,delay:400,error:n("ef68").default,timeout:1e4});return Promise.resolve({functional:!0,render(e,{data:n,children:r}){return e(t,n,r)}})}r["a"].use(a["a"]),r["a"].use(o["a"],{keyName:"page"});const y=new a["a"]({routes:b,mode:"history",scrollBehavior(e,t,n){return n||{x:0,y:0}}});y.beforeEach((e,t,n)=>{null!==t.name&&s.a.start();const r=e.matched.some(e=>e.meta.authRequired);if(!r)return n();if(g.getters["auth/loggedIn"])return g.dispatch("auth/validate").then(e=>{e?n():a()});function a(){n({name:"login",query:{redirectFrom:e.fullPath}})}a()}),y.beforeResolve(async(e,t,n)=>{try{for(const r of e.matched)await new Promise((a,o)=>{r.meta&&r.meta.beforeResolve?r.meta.beforeResolve(e,t,(...e)=>{e.length?(t.name===e[0].name&&s.a.done(),n(...e),o(new Error("Redirected"))):a()}):a()})}catch(r){return}n()}),y.afterEach((e,t)=>{s.a.done()});var E=y,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("RouterView",{key:e.$route.fullPath})],1)},O=[],R=n("c2a4"),$={page:{titleTemplate(e){return e="function"===typeof e?e(this.$store):e,e?`${e} | ${R.title}`:R.title}}},U=$,S=(n("6294"),n("2877")),x=Object(S["a"])(U,w,O,!1,null,null,null),k=x.exports;const N=n("b526");N.keys().forEach(e=>{const t=N(e),n=e.replace(/^\.\/_/,"").replace(/\.\w+$/,"").split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join("");r["a"].component(n,t.default||t)}),r["a"].config.productionTip=!0,"e2e"===Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_TEST&&(r["a"].config.errorHandler=window.Cypress.cy.onUncaughtException);const j=new r["a"]({router:E,store:g,render:e=>e(k)}).$mount("#app");"e2e"===Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_TEST&&(window.__app__=j)},6294:function(e,t,n){"use strict";var r=n("437c"),a=n.n(r);a.a},"670f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"font-awesome"===e.source?n("FontAwesomeIcon",e._b({attrs:{icon:e.name}},"FontAwesomeIcon",e.$attrs,!1)):"custom"===e.source?n("span",e._b({class:e.customIconClass},"span",e.$attrs,!1)):e._e()},a=[],o=n("ad3d"),u=n("ecee"),s=n("bba4"),c=n.n(s);u["c"].add(n("3818").definition,n("7f18").definition);var i={components:{FontAwesomeIcon:o["a"]},inheritAttrs:!1,props:{source:{type:String,default:"font-awesome"},name:{type:String,required:!0}},computed:{customIconClass(){return this.$style[c()("icon-custom-"+this.name)]}}},l=i,d=n("2877"),f=Object(d["a"])(l,r,a,!1,null,null,null);t["default"]=f.exports},8203:function(e,t,n){"use strict";var r=n("e1e2"),a=n.n(r);t["default"]=a.a},8339:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",e._g({class:e.$style.button},e.$listeners),[e._t("default")],2)},a=[],o=n("ec80"),u=n("2877"),s={};function c(e){this["$style"]=o["default"].locals||o["default"]}var i=Object(u["a"])(s,r,a,!1,c,null,null);t["default"]=i.exports},"8ad3":function(e,t,n){e.exports={title:"_timeout_title_QmghM"}},"8d04":function(e,t,n){"use strict";var r=n("2ac3"),a=n.n(r);t["default"]=a.a},"9c57":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("input",e._g(e._b({class:e.$style.input,attrs:{type:e.type},on:{input:function(t){return e.$emit("update",t.target.value)}}},"input",e.$attrs,!1),e.$listeners))},a=[],o={inheritAttrs:!1,model:{event:"update"},props:{type:{type:String,default:"text",validator(e){return["email","number","password","search","tel","text","url"].includes(e)}}}},u=o,s=n("8d04"),c=n("2877");function i(e){this["$style"]=s["default"].locals||s["default"]}var l=Object(c["a"])(u,r,a,!1,i,null,null);t["default"]=l.exports},b08f:function(e,t,n){"use strict";var r=n("ee55"),a=n.n(r);t["default"]=a.a},b20d:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return o})),n.d(t,"getters",(function(){return u})),n.d(t,"mutations",(function(){return s})),n.d(t,"actions",(function(){return c}));var r=n("bc3a"),a=n.n(r);const o={cached:[]},u={},s={CACHE_USER(e,t){e.cached.push(t)}},c={fetchUser({commit:e,state:t,rootState:n},{username:r}){const{currentUser:o}=n.auth;if(o&&o.username===r)return Promise.resolve(o);const u=t.cached.find(e=>e.username===r);return u?Promise.resolve(u):a.a.get("/api/users/"+r).then(t=>{const n=t.data;return e("CACHE_USER",n),n})}}},b526:function(e,t,n){var r={"./_base-button.vue":"8339","./_base-icon.vue":"670f","./_base-input-text.vue":"9c57","./_base-link.vue":"cbd4"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="b526"},bdd2:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Layout",[n("h1",{class:e.$style.title},[e._v(" 404 "),e.resource?[e._v(" "+e._s(e.resource)+" ")]:e._e(),e._v(" Not Found ")],2)])},a=[],o=n("444f"),u={page:{title:"404",meta:[{name:"description",content:"404"}]},components:{Layout:o["a"]},props:{resource:{type:String,default:""}}},s=u,c=n("8203"),i=n("2877");function l(e){this["$style"]=c["default"].locals||c["default"]}var d=Object(i["a"])(s,r,a,!1,l,null,null);t["default"]=d.exports},c2a4:function(e){e.exports=JSON.parse('{"title":"THEATERIX","description":"Stories so big they can not fit on the big screen"}')},cbd4:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.href?n("a",e._b({attrs:{href:e.href,target:"_blank"}},"a",e.$attrs,!1),[e._t("default")],2):n("RouterLink",e._b({attrs:{to:e.routerLinkTo}},"RouterLink",e.$attrs,!1),[e._t("default")],2)},a=[],o={inheritAttrs:!1,props:{href:{type:String,default:""},allowInsecure:{type:Boolean,default:!1},to:{type:Object,default:null},name:{type:String,default:""},params:{type:Object,default:()=>({})}},computed:{routerLinkTo({name:e,params:t}){return{name:e,params:t,...this.to||{}}}},created(){this.validateProps()},methods:{validateProps(){}}},u=o,s=n("2877"),c=Object(s["a"])(u,r,a,!1,null,null,null);t["default"]=c.exports},cfa9:function(e,t,n){var r={"./auth.js":"11c0","./users.js":"b20d"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="cfa9"},d5bb:function(e,t,n){e.exports={active:"nav-bar-routes_active_3EAeb"}},d746:function(e,t,n){"use strict";var r=n("8ad3"),a=n.n(r);t["default"]=a.a},e1cf:function(e,t,n){e.exports={button:"_base-button_button_1_hTJ"}},e1e2:function(e,t,n){e.exports={title:"_404_title_2zcsz"}},ec80:function(e,t,n){"use strict";var r=n("e1cf"),a=n.n(r);t["default"]=a.a},ee55:function(e,t,n){e.exports={container:"main_container_3EUVG"}},ef68:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.offlineConfirmed?n("Layout",[n("h1",{class:e.$style.title},[e._v(" The page timed out while loading. Are you sure you're still connected to the Internet? ")])]):n("LoadingView")},a=[],o=n("bc3a"),u=n.n(o),s=n("444f"),c=n("2883"),i={page:{title:"Page timeout",meta:[{name:"description",content:"The page timed out while loading."}]},components:{Layout:s["a"],LoadingView:c["default"]},data(){return{offlineConfirmed:!1}},beforeCreate(){u.a.head("/api/ping").then(()=>{window.location.reload()}).catch(()=>{this.offlineConfirmed=!0})}},l=i,d=n("d746"),f=n("2877");function p(e){this["$style"]=d["default"].locals||d["default"]}var m=Object(f["a"])(l,r,a,!1,p,null,null);t["default"]=m.exports}});
//# sourceMappingURL=app.d80f152e.js.map